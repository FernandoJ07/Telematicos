<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    # Configuración del directorio protegido con PAM
    <Directory "/var/www/html/archivos_privados">
        AuthType Basic
        AuthName "Zona Restringida - Autenticación PAM"
        AuthBasicProvider PAM
        AuthPAMService apache2
        Require valid-user

        # Página de error personalizada
        ErrorDocument 401 "/error_401.html"
        ErrorDocument 403 "/error_403.html"
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
